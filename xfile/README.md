<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# xfile

```go
import "github.com/fufuok/utils/xfile"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func IsDir(s string) bool](<#func-isdir>)
- [func IsExist(s string) bool](<#func-isexist>)
- [func IsFile(s string) bool](<#func-isfile>)
- [type DefaultFilename](<#type-defaultfilename>)
  - [func (d *DefaultFilename) MakeFilename(name string) string](<#func-defaultfilename-makefilename>)
- [type FilenameMaker](<#type-filenamemaker>)
- [type Logger](<#type-logger>)
- [type Options](<#type-options>)
- [type Roller](<#type-roller>)
  - [func NewRoller(filename string, opt *Options) (*Roller, error)](<#func-newroller>)
  - [func (r *Roller) Close()](<#func-roller-close>)
  - [func (r *Roller) Write(p []byte) (int, error)](<#func-roller-write>)
  - [func (r *Roller) WriteString(s string) (int, error)](<#func-roller-writestring>)
- [type TimeBasedFilename](<#type-timebasedfilename>)
  - [func (t *TimeBasedFilename) MakeFilename(name string) string](<#func-timebasedfilename-makefilename>)


## Constants

```go
const (
    DefaultFlushSizeLimit = 1 << 20
    DefaultFlushInterval  = 1 * time.Second
    MinFlushSizeLimit     = 4096
    MinFlushInterval      = 100 * time.Millisecond
)
```

## Variables

```go
var (
    ErrFilename = errors.New("wrong file name")
)
```

## func IsDir

```go
func IsDir(s string) bool
```

IsDir 目录是否存在

## func IsExist

```go
func IsExist(s string) bool
```

IsExist 文件或目录是否存在

## func IsFile

```go
func IsFile(s string) bool
```

IsFile 文件是否存在

## type DefaultFilename

```go
type DefaultFilename struct{}
```

### func \(\*DefaultFilename\) MakeFilename

```go
func (d *DefaultFilename) MakeFilename(name string) string
```

## type FilenameMaker

```go
type FilenameMaker interface {
    MakeFilename(name string) string
}
```

## type Logger

```go
type Logger interface {
    Errorf(format string, v ...interface{})
}
```

## type Options

```go
type Options struct {
    // 文件名生成器, 每秒检查
    FilenameMaker FilenameMaker

    // 日志处理器
    Logger Logger

    // 每次(实例启动时除外)滚动的文件是否删除后重建
    Rebuild bool

    // 刷新到磁盘的大小和时间间隔, 默认 1MiB, 1秒
    // 注意: 由于写文件有缓冲, 如果按秒切割文件, 数据将有可能写入上一秒的文件名中
    FlushSizeLimit int
    FlushInterval  time.Duration
}
```

## type Roller

```go
type Roller struct {
    // contains filtered or unexported fields
}
```

### func NewRoller

```go
func NewRoller(filename string, opt *Options) (*Roller, error)
```

### func \(\*Roller\) Close

```go
func (r *Roller) Close()
```

### func \(\*Roller\) Write

```go
func (r *Roller) Write(p []byte) (int, error)
```

### func \(\*Roller\) WriteString

```go
func (r *Roller) WriteString(s string) (int, error)
```

## type TimeBasedFilename

```go
type TimeBasedFilename struct {
    // 文件目录
    FilePath string

    // 文件名模板: run-%s.log
    FilenameTpl string

    // 日期时间模板: 060102
    TimeTpl string

    // 时间标识相同则不生成新文件名: 221130
    TimeTag string
}
```

### func \(\*TimeBasedFilename\) MakeFilename

```go
func (t *TimeBasedFilename) MakeFilename(name string) string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)

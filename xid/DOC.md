<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# xid

```go
import "github.com/fufuok/utils/xid"
```

### Package xid is a globally unique id generator suited for web scale

Xid is using Mongo Object ID algorithm to generate globally unique ids: https://docs.mongodb.org/manual/reference/object-id/

```
- 4-byte value representing the seconds since the Unix epoch,
- 3-byte machine identifier,
- 2-byte process id, and
- 3-byte counter, starting with a random value.
```

The binary representation of the id is compatible with Mongo 12 bytes Object IDs. The string representation is using base32 hex \(w/o padding\) for better space efficiency when stored in that form \(20 bytes\). The hex variant of base32 is used to retain the sortable property of the id.

Xid doesn't use base64 because case sensitivity and the 2 non alphanum chars may be an issue when transported as a string between various systems. Base36 wasn't retained either because 1/ it's not standard 2/ the resulting size is not predictable \(not bit aligned\) and 3/ it would not remain sortable. To validate a base32 \`xid\`, expect a 20 chars long, all lowercase sequence of \`a\` to \`v\` letters and \`0\` to \`9\` numbers \(\`\[0\-9a\-v\]\{20\}\`\).

UUID is 16 bytes \(128 bits\), snowflake is 8 bytes \(64 bits\), xid stands in between with 12 bytes with a more compact string representation ready for the web and no required configuration or central generation server.

Features:

```
- Size: 12 bytes (96 bits), smaller than UUID, larger than snowflake
- Base32 hex encoded by default (16 bytes storage when transported as printable string)
- Non configured, you don't need set a unique machine and/or data center id
- K-ordered
- Embedded time with 1 second precision
- Unicity guaranteed for 16,777,216 (24 bits) unique ids per second and per host/process
```

Best used with xlog's RequestIDHandler \(https://godoc.org/github.com/rs/xlog#RequestIDHandler\).

References:

```
- http://www.slideshare.net/davegardnerisme/unique-id-generation-in-distributed-systems
- https://en.wikipedia.org/wiki/Universally_unique_identifier
- https://blog.twitter.com/2010/announcing-snowflake
```

## Index

- [func NewBytes() []byte](<#func-newbytes>)
- [func NewString() string](<#func-newstring>)
- [func Sort(ids []ID)](<#func-sort>)
- [type ID](<#type-id>)
  - [func FromBytes(b []byte) (ID, error)](<#func-frombytes>)
  - [func FromString(id string) (ID, error)](<#func-fromstring>)
  - [func New() ID](<#func-new>)
  - [func NewWithTime(t time.Time) ID](<#func-newwithtime>)
  - [func NilID() ID](<#func-nilid>)
  - [func (id ID) Bytes() []byte](<#func-id-bytes>)
  - [func (id ID) Compare(other ID) int](<#func-id-compare>)
  - [func (id ID) Counter() int32](<#func-id-counter>)
  - [func (id ID) Encode(dst []byte) []byte](<#func-id-encode>)
  - [func (id ID) IsNil() bool](<#func-id-isnil>)
  - [func (id ID) IsZero() bool](<#func-id-iszero>)
  - [func (id ID) Machine() []byte](<#func-id-machine>)
  - [func (id ID) MarshalJSON() ([]byte, error)](<#func-id-marshaljson>)
  - [func (id ID) MarshalText() ([]byte, error)](<#func-id-marshaltext>)
  - [func (id ID) Pid() uint16](<#func-id-pid>)
  - [func (id *ID) Scan(value interface{}) (err error)](<#func-id-scan>)
  - [func (id ID) String() string](<#func-id-string>)
  - [func (id ID) Time() time.Time](<#func-id-time>)
  - [func (id *ID) UnmarshalJSON(b []byte) error](<#func-id-unmarshaljson>)
  - [func (id *ID) UnmarshalText(text []byte) error](<#func-id-unmarshaltext>)
  - [func (id ID) Value() (driver.Value, error)](<#func-id-value>)


## func NewBytes

```go
func NewBytes() []byte
```

NewBytes New\(\).Bytes\(\)

## func NewString

```go
func NewString() string
```

NewString New\(\).String\(\)

## func Sort

```go
func Sort(ids []ID)
```

Sort sorts an array of IDs inplace. It works by wrapping \`\[\]ID\` and use \`sort.Sort\`.

## type ID

ID represents a unique request id

```go
type ID [rawLen]byte
```

### func FromBytes

```go
func FromBytes(b []byte) (ID, error)
```

FromBytes convert the byte array representation of \`ID\` back to \`ID\`

### func FromString

```go
func FromString(id string) (ID, error)
```

FromString reads an ID from its string representation

### func New

```go
func New() ID
```

New generates a globally unique ID

### func NewWithTime

```go
func NewWithTime(t time.Time) ID
```

NewWithTime generates a globally unique ID with the passed in time

### func NilID

```go
func NilID() ID
```

NilID returns a zero value for \`xid.ID\`.

### func \(ID\) Bytes

```go
func (id ID) Bytes() []byte
```

Bytes returns the byte array representation of \`ID\`

### func \(ID\) Compare

```go
func (id ID) Compare(other ID) int
```

Compare returns an integer comparing two IDs. It behaves just like \`bytes.Compare\`. The result will be 0 if two IDs are identical, \-1 if current id is less than the other one, and 1 if current id is greater than the other.

### func \(ID\) Counter

```go
func (id ID) Counter() int32
```

Counter returns the incrementing value part of the id. It's a runtime error to call this method with an invalid id.

### func \(ID\) Encode

```go
func (id ID) Encode(dst []byte) []byte
```

Encode encodes the id using base32 encoding, writing 20 bytes to dst and return it.

### func \(ID\) IsNil

```go
func (id ID) IsNil() bool
```

IsNil Returns true if this is a "nil" ID

### func \(ID\) IsZero

```go
func (id ID) IsZero() bool
```

Alias of IsNil

### func \(ID\) Machine

```go
func (id ID) Machine() []byte
```

Machine returns the 3\-byte machine id part of the id. It's a runtime error to call this method with an invalid id.

### func \(ID\) MarshalJSON

```go
func (id ID) MarshalJSON() ([]byte, error)
```

MarshalJSON implements encoding/json Marshaler interface

### func \(ID\) MarshalText

```go
func (id ID) MarshalText() ([]byte, error)
```

MarshalText implements encoding/text TextMarshaler interface

### func \(ID\) Pid

```go
func (id ID) Pid() uint16
```

Pid returns the process id part of the id. It's a runtime error to call this method with an invalid id.

### func \(\*ID\) Scan

```go
func (id *ID) Scan(value interface{}) (err error)
```

Scan implements the sql.Scanner interface.

### func \(ID\) String

```go
func (id ID) String() string
```

String returns a base32 hex lowercased with no padding representation of the id \(char set is 0\-9, a\-v\).

### func \(ID\) Time

```go
func (id ID) Time() time.Time
```

Time returns the timestamp part of the id. It's a runtime error to call this method with an invalid id.

### func \(\*ID\) UnmarshalJSON

```go
func (id *ID) UnmarshalJSON(b []byte) error
```

UnmarshalJSON implements encoding/json Unmarshaler interface

### func \(\*ID\) UnmarshalText

```go
func (id *ID) UnmarshalText(text []byte) error
```

UnmarshalText implements encoding/text TextUnmarshaler interface

### func \(ID\) Value

```go
func (id ID) Value() (driver.Value, error)
```

Value implements the driver.Valuer interface.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
